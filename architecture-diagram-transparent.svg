<?xml version="1.0" encoding="UTF-8"?>
<svg width="1800" height="1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .ai-agent { fill: #FF1493; stroke: #E6127A; stroke-width: 3px; }
      .transport { fill: #7B68EE; stroke: #5A4FCF; stroke-width: 2px; }
      .core { fill: #50C878; stroke: #3A9B5C; stroke-width: 2px; }
      .lippia-tool { fill: #32CD32; stroke: #228B22; stroke-width: 2px; }
      .selenium-tool { fill: #FF8C00; stroke: #E67E00; stroke-width: 2px; }
      .util { fill: #20B2AA; stroke: #148B8B; stroke-width: 2px; }
      .data { fill: #FF6B6B; stroke: #E55555; stroke-width: 2px; }
      .external { fill: #9370DB; stroke: #7B5BC0; stroke-width: 2px; }
      .browser { fill: #4169E1; stroke: #2E4BC7; stroke-width: 2px; }
      .container-lippia { fill: rgba(240, 248, 255, 0.9); stroke: #4682b4; stroke-width: 3px; }
      .container-selenium { fill: rgba(255, 248, 220, 0.9); stroke: #ff8c00; stroke-width: 3px; }
      .container-external { fill: rgba(240, 230, 255, 0.9); stroke: #9370db; stroke-width: 2px; }
      .section-bg { fill: rgba(255, 255, 255, 0.8); stroke-width: 2px; }
      .legend-bg { fill: rgba(249, 249, 249, 0.95); stroke: #ccc; stroke-width: 2px; }
      .text { font-family: Arial, sans-serif; font-size: 12px; fill: white; text-anchor: middle; font-weight: bold; }
      .text-dark { font-family: Arial, sans-serif; font-size: 12px; fill: #333; text-anchor: middle; font-weight: bold; }
      .title { font-family: Arial, sans-serif; font-size: 16px; fill: #333; text-anchor: middle; font-weight: bold; }
      .subtitle { font-family: Arial, sans-serif; font-size: 14px; fill: #666; text-anchor: middle; font-weight: bold; }
      .connection { stroke: #333; stroke-width: 2px; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="900" y="30" class="title" style="font-size: 24px; fill: #000;">ğŸ¤– AI Agent + Dual MCP Servers Architecture</text>
  <text x="900" y="55" class="subtitle">Lippia Testing Tools + Selenium Browser Automation</text>
  
  <!-- AI Agent -->
  <rect x="750" y="80" width="300" height="60" rx="10" class="ai-agent"/>
  <text x="900" y="105" class="text" style="font-size: 16px;">ğŸ¤– AI Agent</text>
  <text x="900" y="125" class="text">External Actor</text>
  
  <!-- Lippia MCP Server Container -->
  <rect x="50" y="180" width="700" height="900" rx="15" class="container-lippia"/>
  <text x="400" y="210" class="title" style="fill: #4682b4;">ğŸ”§ Lippia MCP Server</text>
  
  <!-- Transport Layer -->
  <rect x="80" y="230" width="640" height="100" rx="10" class="section-bg" style="stroke: #87ceeb;"/>
  <text x="400" y="255" class="subtitle" style="fill: #4682b4;">ğŸ“¡ Transport Layer</text>
  
  <rect x="120" y="270" width="180" height="50" rx="8" class="transport"/>
  <text x="210" y="290" class="text">StdIO Transport</text>
  <text x="210" y="305" class="text">ğŸ“‹ MCP Protocol</text>
  
  <rect x="340" y="270" width="180" height="50" rx="8" class="transport"/>
  <text x="430" y="290" class="text">HTTP Transport</text>
  <text x="430" y="305" class="text">ğŸŒ REST Endpoints</text>
  
  <!-- Application Core -->
  <rect x="80" y="350" width="640" height="100" rx="10" class="section-bg" style="stroke: #90ee90;"/>
  <text x="400" y="375" class="subtitle" style="fill: #228b22;">ğŸ¯ Application Core</text>
  
  <rect x="120" y="390" width="180" height="50" rx="8" class="core"/>
  <text x="210" y="410" class="text">McpServerApplication</text>
  <text x="210" y="425" class="text">â˜• MCP Server Core</text>
  
  <rect x="340" y="390" width="180" height="50" rx="8" class="core"/>
  <text x="430" y="410" class="text">ToolController</text>
  <text x="430" y="425" class="text">ğŸ® HTTP Controller</text>
  
  <!-- Lippia Tools -->
  <rect x="80" y="470" width="640" height="120" rx="10" class="section-bg" style="stroke: #32cd32;"/>
  <text x="400" y="495" class="subtitle" style="fill: #228b22;">ğŸ› ï¸ Lippia Tools</text>
  
  <rect x="100" y="510" width="140" height="70" rx="8" class="lippia-tool"/>
  <text x="170" y="535" class="text">create_feature</text>
  <text x="170" y="550" class="text">ğŸ“ Feature</text>
  <text x="170" y="565" class="text">Prompt Tool</text>
  
  <rect x="260" y="510" width="140" height="70" rx="8" class="lippia-tool"/>
  <text x="330" y="535" class="text">create_test</text>
  <text x="330" y="550" class="text">ğŸ§ª Test</text>
  <text x="330" y="565" class="text">Prompt Tool</text>
  
  <rect x="420" y="510" width="140" height="70" rx="8" class="lippia-tool"/>
  <text x="490" y="535" class="text">execute_test</text>
  <text x="490" y="550" class="text">â–¶ï¸ Command</text>
  <text x="490" y="565" class="text">Generator</text>
  
  <rect x="580" y="510" width="120" height="70" rx="8" class="lippia-tool"/>
  <text x="640" y="535" class="text">get_report</text>
  <text x="640" y="550" class="text">ğŸ“Š Report</text>
  <text x="640" y="565" class="text">Path Tool</text>
  
  <!-- Utilities -->
  <rect x="80" y="610" width="300" height="100" rx="10" class="section-bg" style="stroke: #20b2aa;"/>
  <text x="230" y="635" class="subtitle" style="fill: #148b8b;">ğŸ—ï¸ Utilities</text>
  
  <rect x="100" y="650" width="120" height="50" rx="8" class="util"/>
  <text x="160" y="670" class="text">PromptBuilder</text>
  <text x="160" y="685" class="text">ğŸ”§ REST Client</text>
  
  <rect x="240" y="650" width="120" height="50" rx="8" class="util"/>
  <text x="300" y="670" class="text">MapUtils</text>
  <text x="300" y="685" class="text">ğŸ—‚ï¸ Data Processing</text>
  
  <!-- Data Models -->
  <rect x="400" y="610" width="320" height="160" rx="10" class="section-bg" style="stroke: #ff6b6b;"/>
  <text x="560" y="635" class="subtitle" style="fill: #e55555;">ğŸ“‹ Data Models</text>
  
  <rect x="420" y="650" width="120" height="50" rx="8" class="data"/>
  <text x="480" y="670" class="text">Feature</text>
  <text x="480" y="685" class="text">ğŸ“„ Feature Model</text>
  
  <rect x="560" y="650" width="120" height="50" rx="8" class="data"/>
  <text x="620" y="670" class="text">Step</text>
  <text x="620" y="685" class="text">ğŸ‘£ Step Model</text>
  
  <rect x="420" y="710" width="120" height="50" rx="8" class="data"/>
  <text x="480" y="730" class="text">Request Models</text>
  <text x="480" y="745" class="text">ğŸ“¥ Input DTOs</text>
  
  <rect x="560" y="710" width="120" height="50" rx="8" class="data"/>
  <text x="620" y="730" class="text">Response Models</text>
  <text x="620" y="745" class="text">ğŸ“¤ Formatted Prompts</text>
  
  <!-- Selenium MCP Server Container -->
  <rect x="800" y="180" width="650" height="900" rx="15" class="container-selenium"/>
  <text x="1125" y="210" class="title" style="fill: #ff8c00;">ğŸŒ Selenium MCP Server</text>
  
  <!-- Selenium Transport -->
  <rect x="830" y="230" width="590" height="80" rx="10" class="section-bg" style="stroke: #daa520;"/>
  <text x="1125" y="255" class="subtitle" style="fill: #ff8c00;">ğŸ“¡ Selenium Transport</text>
  
  <rect x="970" y="270" width="180" height="50" rx="8" class="transport"/>
  <text x="1060" y="290" class="text">StdIO Transport</text>
  <text x="1060" y="305" class="text">ğŸ“‹ MCP Protocol</text>
  
  <!-- Browser Core -->
  <rect x="830" y="330" width="590" height="80" rx="10" class="section-bg" style="stroke: #90ee90;"/>
  <text x="1125" y="355" class="subtitle" style="fill: #228b22;">ğŸ¯ Browser Core</text>
  
  <rect x="970" y="370" width="180" height="50" rx="8" class="core"/>
  <text x="1060" y="390" class="text">Selenium MCP Core</text>
  <text x="1060" y="405" class="text">ğŸ”§ WebDriver Manager</text>
  
  <!-- Browser Tools -->
  <rect x="830" y="430" width="590" height="300" rx="10" class="section-bg" style="stroke: #ff8c00;"/>
  <text x="1125" y="455" class="subtitle" style="fill: #ff8c00;">ğŸ› ï¸ Browser Tools</text>
  
  <!-- Row 1 -->
  <rect x="850" y="470" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="905" y="490" class="text">start_browser</text>
  <text x="905" y="505" class="text">ğŸš€ Launch</text>
  <text x="905" y="520" class="text">Browser</text>
  
  <rect x="980" y="470" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1035" y="490" class="text">navigate</text>
  <text x="1035" y="505" class="text">ğŸ§­ Go to</text>
  <text x="1035" y="520" class="text">URL</text>
  
  <rect x="1110" y="470" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1165" y="490" class="text">find_element</text>
  <text x="1165" y="505" class="text">ğŸ” Locate</text>
  <text x="1165" y="520" class="text">Elements</text>
  
  <rect x="1240" y="470" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1295" y="490" class="text">click_element</text>
  <text x="1295" y="505" class="text">ğŸ‘† Click</text>
  <text x="1295" y="520" class="text">Actions</text>
  
  <rect x="1370" y="470" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1425" y="490" class="text">send_keys</text>
  <text x="1425" y="505" class="text">âŒ¨ï¸ Type</text>
  <text x="1425" y="520" class="text">Text</text>
  
  <!-- Row 2 -->
  <rect x="850" y="550" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="905" y="570" class="text">get_text</text>
  <text x="905" y="585" class="text">ğŸ“– Extract</text>
  <text x="905" y="600" class="text">Text</text>
  
  <rect x="980" y="550" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1035" y="570" class="text">screenshot</text>
  <text x="1035" y="585" class="text">ğŸ“¸ Capture</text>
  <text x="1035" y="600" class="text">Screen</text>
  
  <rect x="1110" y="550" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1165" y="570" class="text">drag_drop</text>
  <text x="1165" y="585" class="text">ğŸ”„ Move</text>
  <text x="1165" y="600" class="text">Elements</text>
  
  <rect x="1240" y="550" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1295" y="570" class="text">hover</text>
  <text x="1295" y="585" class="text">ğŸ‘‹ Mouse</text>
  <text x="1295" y="600" class="text">Over</text>
  
  <rect x="1370" y="550" width="110" height="60" rx="8" class="selenium-tool"/>
  <text x="1425" y="570" class="text">upload_file</text>
  <text x="1425" y="585" class="text">ğŸ“ File</text>
  <text x="1425" y="600" class="text">Upload</text>
  
  <!-- Browser Instance -->
  <rect x="830" y="750" width="590" height="120" rx="10" class="section-bg" style="stroke: #4169e1;"/>
  <text x="1125" y="775" class="subtitle" style="fill: #2e4bc7;">ğŸŒ Browser Instance</text>
  
  <rect x="920" y="790" width="150" height="50" rx="8" class="browser"/>
  <text x="995" y="810" class="text">WebDriver</text>
  <text x="995" y="825" class="text">ğŸ”§ Chrome/Firefox</text>
  
  <rect x="1100" y="790" width="150" height="50" rx="8" class="browser"/>
  <text x="1175" y="810" class="text">Browser Session</text>
  <text x="1175" y="825" class="text">ğŸ–¥ï¸ Active Browser</text>
  
  <!-- External Microservices -->
  <rect x="80" y="950" width="640" height="120" rx="10" class="container-external"/>
  <text x="400" y="975" class="subtitle" style="fill: #7b5bc0;">ğŸ¢ External Microservices</text>
  
  <rect x="120" y="990" width="180" height="70" rx="8" class="external"/>
  <text x="210" y="1015" class="text">Prompt Management</text>
  <text x="210" y="1030" class="text">ğŸ¯ REST</text>
  <text x="210" y="1045" class="text">Microservice</text>
  
  <rect x="320" y="990" width="160" height="70" rx="8" class="external"/>
  <text x="400" y="1015" class="text">/template/features</text>
  <text x="400" y="1030" class="text">ğŸ“ Feature</text>
  <text x="400" y="1045" class="text">Templates</text>
  
  <rect x="500" y="990" width="160" height="70" rx="8" class="external"/>
  <text x="580" y="1015" class="text">/template/steps</text>
  <text x="580" y="1030" class="text">ğŸ§ª Steps</text>
  <text x="580" y="1045" class="text">Templates</text>
  
  <!-- Connections -->
  <!-- AI Agent to MCP Servers -->
  <line x1="850" y1="140" x2="210" y2="270" class="connection"/>
  <line x1="900" y1="140" x2="430" y2="270" class="connection"/>
  <line x1="950" y1="140" x2="1060" y2="270" class="connection"/>
  
  <!-- Internal Lippia connections -->
  <line x1="210" y1="320" x2="210" y2="390" class="connection"/>
  <line x1="430" y1="320" x2="430" y2="390" class="connection"/>
  <line x1="210" y1="440" x2="170" y2="510" class="connection"/>
  <line x1="210" y1="440" x2="330" y2="510" class="connection"/>
  <line x1="160" y1="650" x2="210" y2="990" class="connection"/>
  
  <!-- Internal Selenium connections -->
  <line x1="1060" y1="320" x2="1060" y2="370" class="connection"/>
  <line x1="1060" y1="420" x2="905" y2="470" class="connection"/>
  <line x1="1060" y1="420" x2="1035" y2="470" class="connection"/>
  <line x1="905" y1="530" x2="995" y2="790" class="connection"/>
  
  <!-- Legend -->
  <rect x="1500" y="80" width="280" height="400" rx="10" class="legend-bg"/>
  <text x="1640" y="105" class="subtitle" style="fill: #333;">ğŸ¨ Component Legend</text>
  
  <rect x="1520" y="120" width="20" height="15" class="ai-agent"/>
  <text x="1550" y="132" class="text-dark">AI Agent</text>
  
  <rect x="1520" y="145" width="20" height="15" class="transport"/>
  <text x="1550" y="157" class="text-dark">Transport Layer</text>
  
  <rect x="1520" y="170" width="20" height="15" class="core"/>
  <text x="1550" y="182" class="text-dark">Application Core</text>
  
  <rect x="1520" y="195" width="20" height="15" class="lippia-tool"/>
  <text x="1550" y="207" class="text-dark">Lippia Tools</text>
  
  <rect x="1520" y="220" width="20" height="15" class="selenium-tool"/>
  <text x="1550" y="232" class="text-dark">Selenium Tools</text>
  
  <rect x="1520" y="245" width="20" height="15" class="util"/>
  <text x="1550" y="257" class="text-dark">Utilities</text>
  
  <rect x="1520" y="270" width="20" height="15" class="data"/>
  <text x="1550" y="282" class="text-dark">Data Models</text>
  
  <rect x="1520" y="295" width="20" height="15" class="external"/>
  <text x="1550" y="307" class="text-dark">External Services</text>
  
  <rect x="1520" y="320" width="20" height="15" class="browser"/>
  <text x="1550" y="332" class="text-dark">Browser Components</text>
  
  <!-- Capabilities -->
  <text x="1640" y="365" class="subtitle" style="fill: #333;">ğŸš€ Capabilities</text>
  <text x="1520" y="385" style="font-size: 11px; fill: #333;">â€¢ Generate Cucumber Features</text>
  <text x="1520" y="400" style="font-size: 11px; fill: #333;">â€¢ Create Test Steps</text>
  <text x="1520" y="415" style="font-size: 11px; fill: #333;">â€¢ Execute Maven Tests</text>
  <text x="1520" y="430" style="font-size: 11px; fill: #333;">â€¢ Browser Automation</text>
  <text x="1520" y="445" style="font-size: 11px; fill: #333;">â€¢ Web Navigation</text>
  <text x="1520" y="460" style="font-size: 11px; fill: #333;">â€¢ Element Interaction</text>
  
</svg> 