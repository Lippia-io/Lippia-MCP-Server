{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "features": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "feature": {
            "type": "object",
            "properties": {
              "scenarios": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "description": {
                      "type": "string"
                    },
                    "steps": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "description": {
                            "type": "string"
                          },
                          "actions": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "action": {
                                  "type": "string",
                                  "enum": [
                                    "browser_snapshot",
                                    "browser_click",
                                    "browser_drag",
                                    "browser_hover",
                                    "browser_type",
                                    "browser_select_option",
                                    "browser_press_key",
                                    "browser_wait_for",
                                    "browser_file_upload",
                                    "browser_handle_dialog",
                                    "browser_navigate",
                                    "browser_navigate_back",
                                    "browser_navigate_forward",
                                    "browser_take_screenshot",
                                    "browser_pdf_save",
                                    "browser_network_requests",
                                    "browser_console_messages",
                                    "browser_install",
                                    "browser_close",
                                    "browser_resize",
                                    "browser_tab_list",
                                    "browser_tab_new",
                                    "browser_tab_select",
                                    "browser_tab_close",
                                    "browser_generate_playwright_test",
                                    "browser_screen_capture",
                                    "browser_screen_move_mouse",
                                    "browser_screen_click",
                                    "browser_screen_drag",
                                    "browser_screen_type"
                                  ]
                                },
                                "parameters": {
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "description": "The URL to navigate to"
                                    },
                                    "element": {
                                      "type": "string",
                                      "description": "Human-readable element description"
                                    },
                                    "ref": {
                                      "type": "string",
                                      "description": "Exact target element reference from page snapshot"
                                    },
                                    "text": {
                                      "type": "string",
                                      "description": "Text to type or wait for"
                                    },
                                    "key": {
                                      "type": "string",
                                      "description": "Key to press (e.g., 'ArrowLeft', 'a')"
                                    },
                                    "values": {
                                      "type": "array",
                                      "items": {"type": "string"},
                                      "description": "Values to select in dropdown"
                                    },
                                    "paths": {
                                      "type": "array",
                                      "items": {"type": "string"},
                                      "description": "Absolute paths to files for upload"
                                    },
                                    "accept": {
                                      "type": "boolean",
                                      "description": "Whether to accept dialog"
                                    },
                                    "promptText": {
                                      "type": "string",
                                      "description": "Text for prompt dialog"
                                    },
                                    "width": {
                                      "type": "number",
                                      "description": "Browser window width"
                                    },
                                    "height": {
                                      "type": "number",
                                      "description": "Browser window height"
                                    },
                                    "index": {
                                      "type": "number",
                                      "description": "Tab index"
                                    },
                                    "filename": {
                                      "type": "string",
                                      "description": "File name for screenshot/PDF"
                                    },
                                    "raw": {
                                      "type": "boolean",
                                      "description": "Whether to return uncompressed PNG"
                                    },
                                    "time": {
                                      "type": "number",
                                      "description": "Time to wait in seconds"
                                    },
                                    "textGone": {
                                      "type": "string",
                                      "description": "Text to wait for disappearance"
                                    },
                                    "submit": {
                                      "type": "boolean",
                                      "description": "Whether to submit/press Enter after typing"
                                    },
                                    "slowly": {
                                      "type": "boolean",
                                      "description": "Whether to type one character at a time"
                                    },
                                    "x": {
                                      "type": "number",
                                      "description": "X coordinate for screen actions"
                                    },
                                    "y": {
                                      "type": "number",
                                      "description": "Y coordinate for screen actions"
                                    },
                                    "startX": {
                                      "type": "number",
                                      "description": "Start X coordinate for drag"
                                    },
                                    "startY": {
                                      "type": "number",
                                      "description": "Start Y coordinate for drag"
                                    },
                                    "endX": {
                                      "type": "number",
                                      "description": "End X coordinate for drag"
                                    },
                                    "endY": {
                                      "type": "number",
                                      "description": "End Y coordinate for drag"
                                    },
                                    "startElement": {
                                      "type": "string",
                                      "description": "Source element description for drag"
                                    },
                                    "startRef": {
                                      "type": "string",
                                      "description": "Source element reference for drag"
                                    },
                                    "endElement": {
                                      "type": "string",
                                      "description": "Target element description for drag"
                                    },
                                    "endRef": {
                                      "type": "string",
                                      "description": "Target element reference for drag"
                                    },
                                    "name": {
                                      "type": "string",
                                      "description": "Test name for generated Playwright test"
                                    },
                                    "description": {
                                      "type": "string",
                                      "description": "Test description for generated Playwright test"
                                    },
                                    "steps": {
                                      "type": "array",
                                      "items": {"type": "string"},
                                      "description": "Test steps for generated Playwright test"
                                    }
                                  }
                                }
                              },
                              "required": ["action"]
                            }
                          }
                        },
                        "required": ["description"]
                      }
                    }
                  },
                  "required": ["description", "steps"]
                }
              }
            },
            "required": ["scenarios"]
          }
        },
        "required": ["feature"]
      }
    }
  },
  "required": ["features"]
}